!function(t,e){e.urlParams("debug")&&e.debug,t(function(){function n(t,e){var n=t+Math.random()*(e+1-t);return n=Math.floor(n)}function o(e,o){var a=".title.lost",i=0,r=0;o&&(i=o,r=200-o),t(a+":nth-child(even)").css({left:-e+"px",height:n(40,70)+"%",color:"rgb("+i+","+i+","+i+")"}),t(a+":nth-child(odd)").css({left:e+"px",color:"rgb("+r+","+r+","+r+")"})}function a(t){setTimeout(i(n(4,10)),t)}function i(t){return t?function(){o(n(-4,4),n(50,150)),setTimeout(i(--t),n(40,180))}:function(){o(0),setTimeout(function(){a(n(2e3,6e3))},n(50,200))}}function r(t){return t.length}function l(t,e){return+new Date(_,t,e)>m?+new Date(_,t,e):+new Date(_+1,t,e)}function s(t){var e,n,o=(""+t).split(""),a=!0;for(e=0,n=o.length-1;e<n;e++)a=a&&o[e]==o[e+1];if(a)return a;for(a=!0,e=0,n=o.length-1;e<n;e++)a=a&&o[e]==o[e+1]+1;if(a)return a;for(a=!0,e=0,n=o.length-1;e<n;e++)a=a&&o[e]==o[e+1]-1;if(a)return a;for(a=!0,e=1,n=o.length;e<n;e++)a=a&&0==o[e];return a}!function(t){t.CoolDate=function(t,e,n){this.__timestamp=t,this.__title=e,this.__type=n.toLowerCase()},t.CoolDate.prototype={constructor:CoolDate,get timestamp(){return this.__timestamp},get title(){return this.__title},toString:function(){var t=Math.ceil((this.__timestamp-v)/864e5);return[0==t?"Сегодня":[1==t?"Завтра":2==t?"Послезавтра":["Через","<b>"+t+"</b>",e.math(t).declination(["день","дня","дней"]).toLowerCase()].join(" "),"будет"].join(" "),this.__type+":",this.__title+"."].join(" ")}},t.CoolDate.__defineGetter__("MONTH",function(){return"Круглая дата"}),t.CoolDate.__defineGetter__("COUNT",function(){return"Красивое количество дней"}),t.CoolDate.__defineGetter__("IMPORTANT",function(){return"Важное событие"})}(window);var u,c,d,h=!1,f=setInterval(function(){t("#nearest-wrap").toggleClass("swing")},2e3),C=function(){h||(h=!0,clearInterval(f),t("#nearest-wrap").removeClass("swing"))},p=location.hash.replace("#","").split("/").filter(r),w=parseInt(p[2])||11,D=(p[1]||8)-1,_=parseInt(p[0])||2016,m=+new Date(_,D,w),v=+new Date,g=parseInt((+new Date-m)/864e5),T=[new CoolDate((+new Date(_+1,D,w)),"Год",CoolDate.MONTH),new CoolDate((+new Date(_+1,D+6,w)),"Полтора год",CoolDate.MONTH),new CoolDate(l(1,14),'Первое "14 февраля" вместе',CoolDate.IMPORTANT),new CoolDate(l(1,23),'Первое "23 февраля" вместе',CoolDate.IMPORTANT),new CoolDate(l(2,8),'Первое "8 марта" вместе',CoolDate.IMPORTANT)],I=0;for(p.length<3&&(window.horrorInterval=setInterval(function(){t("body").hasClass("ready")&&(clearInterval(window.horrorInterval),t(".content").html("").css({position:"relative"}).append(t("<div>").addClass("title").addClass("lost").text("Love is lost.")).append(t("<div>").addClass("title").addClass("lost").text("Love is lost.")).append(t("<div>").addClass("title").addClass("mask").text("Love is lost.")),a(100))},100)),c=1;c<12;c++)T.push(new CoolDate((+new Date(_,D+c,w)),[6==c?"":c,6==c?"Полгода":e.math(c).declination(["месяц","месяца","месяцев"])].join(" "),CoolDate.MONTH));for(c=2;c<=10;c++)T.push(new CoolDate((+new Date(_+c,D,w)),[c,e.math(c).declination(["год","года","лет"])].join(" "),CoolDate.MONTH));for(c=100,d=3660;c<d;c++)s(c)&&T.push(new CoolDate(m+864e5*c,[c,e.math(c).declination(["день","дня","дней"])].join(" "),CoolDate.COUNT));location.hash.length||T.push(new CoolDate((+new Date(2017,6,29)),"Возвращение с практики",CoolDate.IMPORTANT)),T.sort(function(t,e){return t.timestamp-e.timestamp}),u=T.filter(function(t){return I<10&&Math.ceil((t.timestamp-v)/864e5)>=0&&(I++,!0)}),e.log(u),t(".title.days").text(g),t(".text .days").text(e.math(g).declination(["день","дня","дней"])),u.forEach(function(e){t("#nearest").append(t("<div>").addClass("swiper-slide").html(e+""))}),new Swiper(".swiper-container",{loop:!0,runCallbacksOnInit:!1,onSlidePrevEnd:C,onSlideNextEnd:C}),t("body").delay(2e3).queue(function(e){t(this).addClass("ready"),e()})})}(jQuery,Slavunya),function(){var t=new ProgressBar.Path("#heart-path",{easing:"easeInOut",duration:2800});t.set(-1),t.animate(1)}();
//# sourceMappingURL=main.js.map
