!function(e,t){t.urlParams("debug")&&t.debug,e(function(){function o(e){return e.length}function n(e,t){return+new Date(D,e,t)>u?+new Date(D,e,t):+new Date(D+1,e,t)}!function(e){e.CoolDate=function(e,t,o){this.__timestamp=e,this.__title=t,this.__type=o.toLowerCase()},e.CoolDate.prototype={constructor:CoolDate,get timestamp(){return this.__timestamp},get title(){return this.__title},toString:function(){var e=Math.ceil((this.__timestamp-s)/864e5);return[0==e?"Сегодня":[1==e?"Завтра":2==e?"Послезавтра":["Через","<b>"+e+"</b>",Slavunya.math(e).declination(["день","дня","дней"]).toLowerCase()].join(" "),"будет"].join(" "),this.__type+":",this.__title+"."].join(" ")}},e.CoolDate.__defineGetter__("MONTH",function(){return"Круглая дата"}),e.CoolDate.__defineGetter__("COUNT",function(){return"Красивое количество дней"}),e.CoolDate.__defineGetter__("IMPORTANT",function(){return"Важное событие"})}(window);var a,l,i=location.hash.replace("#","").split("/").filter(o),C=parseInt(i[2])||11,r=(i[1]||8)-1,D=parseInt(i[0])||2016,u=+new Date(D,r,C),s=+new Date,c=parseInt((+new Date-u)/864e5),w=[new CoolDate((+new Date(D+1,r,C)),"Год",CoolDate.MONTH),new CoolDate((+new Date(D+1,r+6,C)),"Полтора год",CoolDate.MONTH),new CoolDate(u+95904e5,"111 дней",CoolDate.COUNT),new CoolDate(u+106272e5,"123 дня",CoolDate.COUNT),new CoolDate(u+1728e7,"200 дней",CoolDate.COUNT),new CoolDate(u+18144e6,"2 1 0",CoolDate.COUNT),new CoolDate(u+191808e5,"222 дня",CoolDate.COUNT),new CoolDate(u+202176e5,"234 дня",CoolDate.COUNT),new CoolDate(u+2592e7,"300 дней",CoolDate.COUNT),new CoolDate(u+277344e5,"3 2 1",CoolDate.COUNT),new CoolDate(u+287712e5,"333 дня",CoolDate.COUNT),new CoolDate(u+29808e6,"345 дней",CoolDate.COUNT),new CoolDate(n(1,14),'Первое "14 февраля" вместе',CoolDate.IMPORTANT),new CoolDate(n(1,23),'Первое "23 февраля" вместе',CoolDate.IMPORTANT),new CoolDate(n(2,8),'Первое "8 марта" вместе',CoolDate.IMPORTANT)],h=0,_=0;for(l=1;l<12;l++)w.push(new CoolDate((+new Date(D,r+l,C)),[l,6==с?"Полгода":t.math(l).declination(["месяц","месяца","месяцев"])].join(" "),CoolDate.MONTH));for(l=2;l<=10;l++)w.push(new CoolDate((+new Date(D+l,r,C)),[l,t.math(l).declination(["год","года","лет"])].join(" "),CoolDate.MONTH));w.sort(function(e,t){return e.timestamp-t.timestamp}),a=w.filter(function(e){return h<10&&(e.timestamp-s)/864e5>=0&&(h++,!0)}),t.log(a),e(".title.days").text(c),e(".text .days").text(Slavunya.math(c).declination(["день","дня","дней"])),e("#nearest").html(a[_]+"").on("click",function(){_=_<a.length-1?_+1:0,e(this).html(a[_]+"")}).on("contextmenu",function(t){t.preventDefault(),_=_>0?_-1:a.length-1,e(this).html(a[_]+"")}),e("body").delay(2e3).queue(function(t){e(this).addClass("ready"),t()})})}(jQuery,Slavunya),function(){var e=new ProgressBar.Path("#heart-path",{easing:"easeInOut",duration:2800});e.set(-1),e.animate(1)}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsIiQkIiwidXJsUGFyYW1zIiwiZGVidWciLCJub3RFbXB0eSIsIml0ZW0iLCJsZW5ndGgiLCJmaXJzdEltcG9ydGFudCIsIm0iLCJkIiwiRGF0ZSIsInNZIiwic1QiLCJ3aW5kb3ciLCJDb29sRGF0ZSIsInRpbWVzdGFtcCIsInRpdGxlIiwidHlwZSIsInRoaXMiLCJfX3RpbWVzdGFtcCIsIl9fdGl0bGUiLCJfX3R5cGUiLCJ0b0xvd2VyQ2FzZSIsInByb3RvdHlwZSIsImNvbnN0cnVjdG9yIiwidG9TdHJpbmciLCJkYXlzIiwiTWF0aCIsImNlaWwiLCJ0VCIsIlNsYXZ1bnlhIiwibWF0aCIsImRlY2xpbmF0aW9uIiwiam9pbiIsIl9fZGVmaW5lR2V0dGVyX18iLCJuZWFyZXN0IiwiYyIsImhEIiwibG9jYXRpb24iLCJoYXNoIiwicmVwbGFjZSIsInNwbGl0IiwiZmlsdGVyIiwic0QiLCJwYXJzZUludCIsInNNIiwiY29vbCIsIk1PTlRIIiwiQ09VTlQiLCJJTVBPUlRBTlQiLCJuZWFyZXN0TGVuZ3RoIiwibmVhcmVzdEl0ZXJhdG9yIiwicHVzaCIsItGBIiwic29ydCIsImEiLCJiIiwibG9nIiwidGV4dCIsImh0bWwiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImRlbGF5IiwicXVldWUiLCJuZXh0IiwiYWRkQ2xhc3MiLCJqUXVlcnkiLCJiYXIiLCJQcm9ncmVzc0JhciIsIlBhdGgiLCJlYXNpbmciLCJkdXJhdGlvbiIsInNldCIsImFuaW1hdGUiXSwibWFwcGluZ3MiOiJDQUFBLFNBQVdBLEVBQUdDLEdBRU5BLEVBQUdDLFVBQVUsVUFDYkQsRUFBR0UsTUFHUEgsRUFBRSxXQTBERSxRQUFTSSxHQUFTQyxHQUNkLE1BQU9BLEdBQUtDLE9BR2hCLFFBQVNDLEdBQWVDLEVBQUdDLEdBQ3ZCLE9BQUssR0FBS0MsTUFBS0MsRUFBSUgsRUFBR0MsR0FBTUcsR0FDaEIsR0FBS0YsTUFBS0MsRUFBSUgsRUFBR0MsSUFF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QUFJTSxRQUFRIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCQsICQkKSB7XG5cbiAgICBpZiAoJCQudXJsUGFyYW1zKFwiZGVidWdcIikpIHtcbiAgICAgICAgJCQuZGVidWc7XG4gICAgfVxuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgKGZ1bmN0aW9uICh3aW5kb3cpIHtcbiAgICAgICAgICAgIHdpbmRvdy5Db29sRGF0ZSA9IGZ1bmN0aW9uIENvb2xEYXRlKHRpbWVzdGFtcCwgdGl0bGUsIHR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fdGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgICAgIHRoaXMuX190aXRsZSAgICAgPSB0aXRsZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9fdHlwZSAgICAgID0gdHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgd2luZG93LkNvb2xEYXRlLnByb3RvdHlwZSA9IHtcbiAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvcjogQ29vbERhdGUsXG5cbiAgICAgICAgICAgICAgICBnZXQgdGltZXN0YW1wKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fX3RpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldCB0aXRsZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX190aXRsZTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheXMgPSBNYXRoLmNlaWwoKHRoaXMuX190aW1lc3RhbXAgLSB0VCkgLyA4NjRlNSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIChkYXlzID09IDAgPyBcItCh0LXQs9C+0LTQvdGPXCIgOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5cyA9PSAxID8gXCLQl9Cw0LLRgtGA0LBcIiA6IGRheXMgPT0gMiA/IFwi0J/QvtGB0LvQtdC30LDQstGC0YDQsFwiIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcItCn0LXRgNC10LdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGI+XCIgKyBkYXlzICsgXCI8L2I+XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTbGF2dW55YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXRoKGRheXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRlY2xpbmF0aW9uKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCLQtNC10L3RjFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcItC00L3Rj1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcItC00L3QtdC5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbihcIiBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwi0LHRg9C00LXRglwiXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oXCIgXCIpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX190eXBlICsgXCI6XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdGl0bGUgKyBcIi5cIlxuICAgICAgICAgICAgICAgICAgICBdLmpvaW4oXCIgXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHdpbmRvdy5Db29sRGF0ZS5fX2RlZmluZUdldHRlcl9fKFwiTU9OVEhcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcItCa0YDRg9Cz0LvQsNGPINC00LDRgtCwXCI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdpbmRvdy5Db29sRGF0ZS5fX2RlZmluZUdldHRlcl9fKFwiQ09VTlRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcItCa0YDQsNGB0LjQstC+0LUg0LrQvtC70LjRh9C10YHRgtCy0L4g0LTQvdC10LlcIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LkNvb2xEYXRlLl9fZGVmaW5lR2V0dGVyX18oXCJJTVBPUlRBTlRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcItCS0LDQttC90L7QtSDRgdC+0LHRi9GC0LjQtVwiO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSkod2luZG93KTtcblxuICAgICAgICBmdW5jdGlvbiBub3RFbXB0eShpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5sZW5ndGhcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGZpcnN0SW1wb3J0YW50KG0sIGQpIHtcbiAgICAgICAgICAgIGlmICgrKG5ldyBEYXRlKHNZLCBtLCBkKSkgPiBzVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiArKG5ldyBEYXRlKHNZLCBtLCBkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKyhuZXcgRGF0ZShzWSArIDEsIG0sIGQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoRCAgICAgICAgICAgICAgPSBsb2NhdGlvbi5oYXNoLnJlcGxhY2UoXCIjXCIsIFwiXCIpLnNwbGl0KFwiL1wiKS5maWx0ZXIobm90RW1wdHkpLFxuICAgICAgICAgICAgc0QgICAgICAgICAgICAgID0gcGFyc2VJbnQoaERbMl0pIHx8IDExLFxuICAgICAgICAgICAgc00gICAgICAgICAgICAgID0gKGhEWzFdIHx8IDgpIC0gMSxcbiAgICAgICAgICAgIHNZICAgICAgICAgICAgICA9IHBhcnNlSW50KGhEWzBdKSB8fCAyMDE2LFxuICAgICAgICAgICAgc1QgICAgICAgICAgICAgID0gKyhuZXcgRGF0ZShzWSwgc00sIHNEKSksXG4gICAgICAgICAgICB0VCAgICAgICAgICAgICAgPSArKG5ldyBEYXRlKSxcbiAgICAgICAgICAgIGRheXMgICAgICAgICAgICA9IHBhcnNlSW50KCgrKG5ldyBEYXRlKSAtIHNUKSAvIDg2NGU1KSxcbiAgICAgICAgICAgIGNvb2wgICAgICAgICAgICA9IFtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiDQmtGA0YPQs9C70YvQtSDQtNCw0YLRi1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIG5ldyBDb29sRGF0ZSgrKG5ldyBEYXRlKHNZICsgMSwgc00sIHNEKSksIFwi0JPQvtC0XCIsIENvb2xEYXRlLk1PTlRIKSxcbiAgICAgICAgICAgICAgICBuZXcgQ29vbERhdGUoKyhuZXcgRGF0ZShzWSArIDEsIHNNICsgNiwgc0QpKSwgXCLQn9C+0LvRgtC+0YDQsCDQs9C+0LRcIiwgQ29vbERhdGUuTU9OVEgpLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICog0JrRgNCw0YHQuNCy0YvQtSDRh9C40YHQu9CwXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgbmV3IENvb2xEYXRlKHNUICsgMTExICogODY0ZTUsIFwiMTExINC00L3QtdC5XCIsIENvb2xEYXRlLkNPVU5UKSxcbiAgICAgICAgICAgICAgICBuZXcgQ29vbERhdGUoc1QgKyAxMjMgKiA4NjRlNSwgXCIxMjMg0LTQvdGPXCIsIENvb2xEYXRlLkNPVU5UKSxcbiAgICAgICAgICAgICAgICBuZXcgQ29vbERhdGUoc1QgKyAyMDAgKiA4NjRlNSwgXCIyMDAg0LTQvdC10LlcIiwgQ29vbERhdGUuQ09VTlQpLFxuICAgICAgICAgICAgICAgIG5ldyBDb29sRGF0ZShzVCArIDIxMCAqIDg2NGU1LCBcIjIgMSAwXCIsIENvb2xEYXRlLkNPVU5UKSxcbiAgICAgICAgICAgICAgICBuZXcgQ29vbERhdGUoc1QgKyAyMjIgKiA4NjRlNSwgXCIyMjIg0LTQvdGPXCIsIENvb2xEYXRlLkNPVU5UKSxcbiAgICAgICAgICAgICAgICBuZXcgQ29vbERhdGUoc1QgKyAyMzQgKiA4NjRlNSwgXCIyMzQg0LTQvdGPXCIsIENvb2xEYXRlLkNPVU5UKSxcbiAgICAgICAgICAgICAgICBuZXcgQ29vbERhdGUoc1QgKyAzMDAgKiA4NjRlNSwgXCIzMDAg0LTQvdC10LlcIiwgQ29vbERhdGUuQ09VTlQpLFxuICAgICAgICAgICAgICAgIG5ldyBDb29sRGF0ZShzVCArIDMyMSAqIDg2NGU1LCBcIjMgMiAxXCIsIENvb2xEYXRlLkNPVU5UKSxcbiAgICAgICAgICAgICAgICBuZXcgQ29vbERhdGUoc1QgKyAzMzMgKiA4NjRlNSwgXCIzMzMg0LTQvdGPXCIsIENvb2xEYXRlLkNPVU5UKSxcbiAgICAgICAgICAgICAgICBuZXcgQ29vbERhdGUoc1QgKyAzNDUgKiA4NjRlNSwgXCIzNDUg0LTQvdC10LlcIiwgQ29vbERhdGUuQ09VTlQpLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICog0JLQsNC20L3Ri9C1INGB0L7QsdGL0YLQuNGPXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgbmV3IENvb2xEYXRlKGZpcnN0SW1wb3J0YW50KDEsIDE0KSwgXCLQn9C10YDQstC+0LUgXFxcIjE0INGE0LXQstGA0LDQu9GPXFxcIiDQstC80LXRgdGC0LVcIiwgQ29vbERhdGUuSU1QT1JUQU5UKSxcbiAgICAgICAgICAgICAgICBuZXcgQ29vbERhdGUoZmlyc3RJbXBvcnRhbnQoMSwgMjMpLCBcItCf0LXRgNCy0L7QtSBcXFwiMjMg0YTQtdCy0YDQsNC70Y9cXFwiINCy0LzQtdGB0YLQtVwiLCBDb29sRGF0ZS5JTVBPUlRBTlQpLFxuICAgICAgICAgICAgICAgIG5ldyBDb29sRGF0ZShmaXJzdEltcG9ydGFudCgyLCA4KSwgXCLQn9C10YDQstC+0LUgXFxcIjgg0LzQsNGA0YLQsFxcXCIg0LLQvNC10YHRgtC1XCIsIENvb2xEYXRlLklNUE9SVEFOVClcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBuZWFyZXN0LFxuICAgICAgICAgICAgbmVhcmVzdExlbmd0aCAgID0gMCxcbiAgICAgICAgICAgIG5lYXJlc3RJdGVyYXRvciA9IDAsXG4gICAgICAgICAgICBjO1xuXG4gICAgICAgIGZvciAoYyA9IDE7IGMgPCAxMjsgYysrKSB7XG4gICAgICAgICAgICBjb29sLnB1c2gobmV3IENvb2xEYXRlKFxuICAgICAgICAgICAgICAgICsobmV3IERhdGUoc1ksIHNNICsgYywgc0QpKSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIGMsXG4gICAgICAgICAgICAgICAgICAgINGBID09IDYgPyBcItCf0L7Qu9Cz0L7QtNCwXCIgOiAkJFxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hdGgoYylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kZWNsaW5hdGlvbihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCLQvNC10YHRj9GGXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCLQvNC10YHRj9GG0LBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcItC80LXRgdGP0YbQtdCyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXS5qb2luKFwiIFwiKSxcbiAgICAgICAgICAgICAgICBDb29sRGF0ZS5NT05USFxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGMgPSAyOyBjIDw9IDEwOyBjKyspIHtcbiAgICAgICAgICAgIGNvb2wucHVzaChuZXcgQ29vbERhdGUoXG4gICAgICAgICAgICAgICAgKyhuZXcgRGF0ZShzWSArIGMsIHNNLCBzRCkpLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgYyxcbiAgICAgICAgICAgICAgICAgICAgJCRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXRoKGMpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZGVjbGluYXRpb24oW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwi0LPQvtC0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCLQs9C+0LTQsFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwi0LvQtdGCXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXS5qb2luKFwiIFwiKSxcbiAgICAgICAgICAgICAgICBDb29sRGF0ZS5NT05USFxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb29sLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhLnRpbWVzdGFtcCAtIGIudGltZXN0YW1wO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZWFyZXN0ID0gY29vbC5maWx0ZXIoZnVuY3Rpb24gKGNvb2wpIHtcbiAgICAgICAgICAgIGlmIChuZWFyZXN0TGVuZ3RoIDwgMTApIHtcbiAgICAgICAgICAgICAgICBpZiAoKGNvb2wudGltZXN0YW1wIC0gdFQpIC8gODY0ZTUgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBuZWFyZXN0TGVuZ3RoKys7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCQubG9nKG5lYXJlc3QpO1xuXG4gICAgICAgICQoXCIudGl0bGUuZGF5c1wiKVxuICAgICAgICAgICAgLnRleHQoZGF5cyk7XG5cbiAgICAgICAgJChcIi50ZXh0IC5kYXlzXCIpXG4gICAgICAgICAgICAudGV4dChcbiAgICAgICAgICAgICAgICBTbGF2dW55YVxuICAgICAgICAgICAgICAgICAgICAubWF0aChkYXlzKVxuICAgICAgICAgICAgICAgICAgICAuZGVjbGluYXRpb24oW1xuICAgICAgICAgICAgICAgICAgICAgICAgXCLQtNC10L3RjFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCLQtNC90Y9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwi0LTQvdC10LlcIlxuICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAkKFwiI25lYXJlc3RcIilcbiAgICAgICAgICAgIC5odG1sKG5lYXJlc3RbbmVhcmVzdEl0ZXJhdG9yXSArIFwiXCIpXG4gICAgICAgICAgICAub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbmVhcmVzdEl0ZXJhdG9yID0gbmVhcmVzdEl0ZXJhdG9yIDwgbmVhcmVzdC5sZW5ndGggLSAxID8gbmVhcmVzdEl0ZXJhdG9yICsgMSA6IDA7XG5cbiAgICAgICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgIC5odG1sKG5lYXJlc3RbbmVhcmVzdEl0ZXJhdG9yXSArIFwiXCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcImNvbnRleHRtZW51XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgbmVhcmVzdEl0ZXJhdG9yID0gbmVhcmVzdEl0ZXJhdG9yID4gMCA/IG5lYXJlc3RJdGVyYXRvciAtIDEgOiBuZWFyZXN0Lmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgIC5odG1sKG5lYXJlc3RbbmVhcmVzdEl0ZXJhdG9yXSArIFwiXCIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgJChcImJvZHlcIilcbiAgICAgICAgICAgIC5kZWxheSgyZTMpXG4gICAgICAgICAgICAucXVldWUoZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcInJlYWR5XCIpO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbn0pKGpRdWVyeSwgU2xhdnVueWEpO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIHZhciBiYXIgPSBuZXcgUHJvZ3Jlc3NCYXIuUGF0aCgnI2hlYXJ0LXBhdGgnLCB7XG4gICAgICAgIGVhc2luZzogICAnZWFzZUluT3V0JyxcbiAgICAgICAgZHVyYXRpb246IDE0MDAgKiAyXG4gICAgfSk7XG5cbiAgICBiYXIuc2V0KC0xKTtcbiAgICBiYXIuYW5pbWF0ZSgxKTtcbn0pKCk7XG4iXX0=
